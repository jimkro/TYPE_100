# 🛠️ 開發迭代紀錄：v11.0

## 🔧 系統修復與介面回歸 (System Fix & UI Restoration)
`狀態：穩定性優化與 Bug 修復`

v11 是一個專注於「穩定性」的版本。在經歷了 v10 的大幅度平衡調整後，此版本修正了介面顯示上的邏輯錯誤，並確保核心輔助系統（如小地圖）在不同遊戲狀態下的正確性。

### 核心功能進化
* **小地圖邏輯修復 (Minimap Fix)**：
    * **回歸穩定版本**：重新導入並優化了 v9 的小地圖渲染邏輯，確保其在畫面右上角的座標定位精確無誤。
    * **狀態檢查機制**：新增了 `gameState === 'PLAYING'` 的判定，確保小地圖僅在戰鬥進行中顯示，避免干擾主選單或遊戲結束畫面的視覺美感。
* **輸入框座標微調**：
    * 針對玩家頭頂的輸入文字進行了 Y 軸位移補償（從 `-30` 調整至 `-34` 左右），防止在某些高解析度縮放比例下，輸入文字與玩家方塊發生視覺重疊。
* **遊戲狀態機穩定化**：
    * 強化了從 `GAMEOVER` 回到 `MENU` 時的變數清除邏輯，確保「重新開始」後的遊戲環境是完全乾淨的，防止舊有的投射物或特效殘留。
* **渲染效能優化**：
    * 優化了網格背景（Grid）的繪製循環，透過明確的邊界控制減少了不必要的繪圖指令輸出。

### 視覺與細節調整
* **邊界顏色一致化**：統一了小地圖與主遊戲畫面的邊框渲染風格，提升整體的視覺一致性。
* **文字清晰度**：微調了 Canvas 繪製文字時的 `textAlign` 屬性，確保在快速移動時單字依然保持中心對齊。

> **開發筆記**：v11 體現了 Vibe Coding 中「維護」的重要性。當功能堆疊到一定程度時，回頭修復那些被遺漏的小細節（如消失的小地圖），是確保遊戲從「好玩」走向「專業」的必經過程。